## 第五次小组作业

### 一、作业要求

​	实现静态天空盒

​	实现第一人称放置，拾取，摧毁方块

### 二、分析实现

​	借鉴对应项目，结合博客，了解对应代码如果实现

### 三、代码实现

#### 	1、天空盒+第一人称移动

​	天空盒代码

![微信截图_20210429143824](文档图片/微信截图_20210429143824.png)

​								![微信截图_20210429143935](文档图片/微信截图_20210429143935.png)		

​	第一人称代码

![微信截图_20210429145521](文档图片/微信截图_20210429145521.png)

![微信截图_20210429145347](文档图片/微信截图_20210429145347.png)

![1619679242(1)](文档图片/1619679242(1).png)

结果

​								![1](文档图片/1.gif)

​		

​	2、方块的放置，拾取，摧毁（摧毁尚未完成）

​			代码

​			![微信截图_20210429145754](文档图片/微信截图_20210429145754.png)

![微信截图_20210429145803](文档图片/微信截图_20210429145803.png)

![微信截图_20210429145724](文档图片/微信截图_20210429145724.png)

​	实现

![2](文档图片/2.gif)

### 五、存在问题与解决方法

​		问题1：只能放一个方块，尚未完成摧毁。

​		（本次作业无十分难处理的bug）

### 四、实现过程与心得体会	

#### 		实现过程：

​			首先选择了天空盒的project完成（因为有对应的.h文件），制作天空盒花费不少时间，因为使用第二个方法一直无效，用上一次作业的图片也是。后按照博客操作进行第3种方法。

​		之后就是第一人称移动，该项目本身含有代码，只要删除其它人称，并增加第一人称限制即可。

​		再之后是方块的放置之类，逻辑也比较简单，仿照实例化森林的项目，自己写个创建方块的函数，并当左键按下时实施就可以。出现的小问题就是硬件实例化的方法实例不出方块，原因是自身没过多时间看懂博客，就仿照点击响应项目的创建方块方法。将Ray射线原点设置在屏幕中心，并画一个准星，但实现的放置只是在某一个地点放置而非准星瞄准的地方。自己曾有得到目标坐标的想法，但Ray的函数中没用能得到目的坐标的函数，经询问后得到了建议，可以从camera类中得到摄像机的坐标与面对方向，经过v+d*t（放置位置=摄像机位置+距离 x 摄像机朝向）实现。当时开始以为拾取就是把方块摧毁，然后可以重新放置，所以只是简单的用析构函数。后来意识到不太对，但也没时间去改正。

#### 		心得：

​		因为本周事情较多（4场考试，加社团任务，加两个选修结课论文……），对本次作业的完成情况十分一般（半成品），缺点就是上一大点所述。这次作业的内容原本以为不简单，但完成后和上一次作业对比还是简单了不少（没有数据的传递之类与3d数学知识的利用），但还是因为时间问题，完成得比较简单。

### 五、参考文献

​	X_Jun博客